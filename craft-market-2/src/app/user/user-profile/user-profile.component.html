<div class="user-profile-container">
  <div *ngIf="user" class="user-profile">
    <h2>User Profile</h2>
    <div class="profile-details">
      <p><strong>ID:</strong> {{ user.id }}</p>
      <p><strong>Username:</strong> {{ user.username }}</p>
      <p><strong>Email:</strong> {{ user.email }}</p>
      <p><strong>User Type:</strong> {{ user.user_type }}</p>
    </div>

    <!-- Registration Form -->
    <div *ngIf="isRegistering" class="registration-form">
      <h3>Create Account:</h3>
      <div class="form-group">
        <label for="regUsername">Username:</label>
        <input type="text" id="regUsername" name="regUsername" [(ngModel)]="user.username" required>
      </div>
      <div class="form-group">
        <label for="regPassword">Password:</label>
        <input type="password" id="regPassword" name="regPassword" [(ngModel)]="user.password" required>
      </div>
      <div class="form-group">
        <label for="regEmail">Email:</label>
        <input type="email" id="regEmail" name="regEmail" [(ngModel)]="user.email" required>
      </div>
      <div class="form-group">
        <label for="regUserType">Artisan First Name</label>
        <select id="regUserType" name="regUserType" [(ngModel)]="user.user_type" required>
          <option value="Artisan">Artisan</option>
        </select>
      </div>

      <div class="form-group" *ngIf="user.user_type === 'Artisan'">
        <label for="regBio">Bio:</label>
        <textarea id="regBio" name="regBio" [(ngModel)]="artisan.bio"></textarea>
      </div>
      <div class="form-group">
        <button type="button" (click)="registerArtisan()">Register as {{ user.user_type }}</button>
      </div>
    </div>

    <!-- Change Password Form -->
    <div class="change-password-section">
      <h3>Change Password</h3>
      <form (submit)="changePassword()">
        <div class="form-group">
          <input type="password" [(ngModel)]="newPassword" name="newPassword" placeholder="New Password">
        </div>
        <div class="form-group">
          <input type="password" [(ngModel)]="confirmNewPassword" name="confirmNewPassword" placeholder="Confirm New Password">
        </div>
        <div class="form-group">
          <button type="submit">Change Password</button>
        </div>
      </form>
    </div>

    <!-- Order History Section -->
    <div class="order-history-section" *ngIf="showOrderHistory">
      <h3>Order History</h3>
      <!-- Display order history here -->
    </div>

    <!-- Button to toggle Order History -->
    <button (click)="toggleOrderHistory()" class="order-history-button">Order History</button>
    <button (click)="toggleForm()">Artisan Signup</button>
    <button (click)="logout()" class="logout-button">Logout</button>
  </div>
</div>
